---
import { SITE } from "../config";
const { href, class: className, turbo = true, ...props } = Astro.props;

const { pathname } = Astro.url;
const isCurrent = href === pathname || href === pathname.replace(/\/$/, "");
---

<a href={href} class:list={[className, { "is-active": isCurrent }]} aria-current={isCurrent ? "page" : false} {...props}>
  <slot />
</a>

<style lang="scss">
  @charset 'UTF-8';
  @use "sass:math";
  @use "../assets/scss/global" as *;
  a {
    color: inherit;
    display: inline-block;
    text-decoration: none;
    @include fs(12px, 16px, 20px);
    padding-bottom: pxToEm(4px);
    position: relative;

    &::after {
      content: "";
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
      width: 100%;
      height: 1px;
      background-color: currentColor;
      transition: 0.6s var(--ol-ease-out-expo);
      transition-property: transform;
      transform: scaleX(0);
      transform-origin: right bottom;
    }

    &:hover,
    &:focus,
    &[aria-current="page"] {
      &::after {
        transform: scaleX(1);
        transform-origin: left bottom;
      }
    }

    &[aria-current="page"] {
      font-weight: 700;
    }
  }
</style>
